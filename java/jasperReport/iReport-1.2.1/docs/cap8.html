<html>
<head>
<title>iReport</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<LINK REL=STYLESHEET TYPE="text/css" HREF="manual0.2.0/stylesheet.css" TITLE="Style">
<style>
.fsmall { font: normal 9pt Arial; }
FONT.fmedio { font: normal 10pt Arial; }
FONT.ftitparagrafo { font: bold 13pt Arial; }
FONT.fparagrafo { font: bold 11pt Arial; }
FONT.smaaaaal { font: bold 8pt Arial; }
FONT.ftitle { font: normal 20pt Arial; }
A.fmedio { COLOR: #000000; TEXT-DECORATION: underline; font: normal 10pt Arial; }
A.fmedio:hover { COLOR: #AA0000; TEXT-DECORATION: underline; font: normal 10pt Arial; }

A.fmed2 { COLOR: #000000; TEXT-DECORATION: underline; font: normal 12pt Arial; }
A.fmed2:hover { COLOR: #AA0000; TEXT-DECORATION: underline; font: normal 12pt Arial; }

A.fmedim { COLOR: #000000; TEXT-DECORATION: none; font: normal 10pt Arial; }
A.fmedim:hover { COLOR: #AA0000; TEXT-DECORATION: underline; font: normal 10pt Arial; }
</style>
</head>

<body bgcolor="#FFFFFF" text="#000000" topmargin="0" leftmargin="0" marginwidth="0" marginheight="0">
<table width="100%" height="100%" border="0" cellspacing="0" cellpadding="0">
  <tr height="99"><td><table height="99" width="100%" border="0" cellspacing="0" cellpadding="0"><tr height="99">
    <td width="200" height="99" valign="top"><img src="images/logo_igor.gif" ></td>
    <td valign="top" width="99%" height="99"><table  width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr> 
	  <td   height="49" bgcolor="#D4D0C8" valign="bottom" align="left"><font class="ftitle"><b>.:Documentation and tutorials</b></font></td>
	  <td   height="49" bgcolor="#D4D0C8" valign="middle" align="right"><A href="http://sourceforge.net"><img border=0 src="images/sflogo.gif" width="105" height="31"></a><img src="images/null.gif"49" width="10" border=0 height="1"></td>
	</tr>
	<tr> 
	  <td height="1" colspan="2" bgcolor="#000000"><img src="images/null.gif height="1" width="1"></td>
	</tr>
      </table></td>
		</tr></table></td>
  </tr> 
  <tr><td><table width="100%" height="100%" border="0" cellspacing="0" cellpadding="0"><tr><td width="120" valign="top" bgcolor="#C98890"><img src="images/null.gif" width="120" height="10">
  <table cellspacing=2 cellpadding=0 width="100%">
	<tr><td bgcolor="#EFA7B0"><font class="fmedio">&nbsp;<A HREF="index.php" class="fmedim">Home</a></font></td></tr>
	<tr><td bgcolor="#EFA7B0"><font class="fmedio">&nbsp;<A HREF="screenshots.html" class="fmedim">Screenshots</a></font></td></tr>
	<tr><td bgcolor="#EFA7B0"><font class="fmedio">&nbsp;<A HREF="docs.html" class="fmedim">Docs</a></font></td></tr>
	<tr><td bgcolor="#EFA7B0"><font class="fmedio">&nbsp;<A HREF="http://sourceforge.net/project/showfiles.php?group_id=64348" class="fmedim">Download</a></font></td></tr>
	<tr><td bgcolor="#EFA7B0"><font class="fmedio">&nbsp;<A HREF="http://sourceforge.net/projects/ireport" class="fmedim">Project page</a></font></td></tr>
	<tr><td bgcolor="#EFA7B0"><font class="fmedio">&nbsp;<A HREF="credits.html" class="fmedim">Credits</a></font></td></tr>
	<tr><td bgcolor="#EFA7B0"><font class="fmedio">&nbsp;<A HREF="http://ireport.sourceforge.net/donations.html" class="fmedim">Donations</a></font></td></tr>
  </table>
  <form method="post"
    action="http://www.osdir.com/
    modules.php?op=modload&amp;name=Downloads&amp;file=index">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td align="center">
      <font class=fsmall>Vote for iReport on O'Reilly's OSDir.com</font>
    </td>
  </tr>
  <tr>
    <td><center>
      <table border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td valign="top" align="center" nowrap>
            <select name="rating">
              <option selected>--</option><br>
              <option value="10">10</option><br>
              <option value="9">9</option><br>
              <option value="8">8</option><br>
              <option value="7">7</option><br>
              <option value="6">6</option><br>
              <option value="5">5</option><br>
              <option value="4">4</option><br>
              <option value="3">3</option><br>
              <option value="2">2</option><br>
              <option value="1">1</option><br>
            </select>
            <input type="submit" value="Vote!"><input type="hidden" name="ratinglid" value="396"><input type="hidden" name="req" value="addrating"><input type="hidden" name="ratinguser" value="outside">
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</form>
  </td>
  <td width="1" height="1" bgcolor="#6F6F6F"><img src="images/null.gif height="1" width="1"></td>
  <td valign="top">
    	<table cellspacing=2 cellpadding=0 width="100%"><tr><td>
		<br>
		  <table align="center" width="95%" border="0" cellspacing="0" cellpadding="0">
		  <tr valign="top"><td>
			<a href="cap7.html"  class="fmedim">&lt;&lt; Previous</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href="cap9.html"  class="fmedim">Next &gt;&gt;</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a href="manual0.2.0.html"  class="fmedim">Table of Contents</a>
			<hr height=1 width=100%>
		      
		      <font class="ftitparagrafo"><a name="8.0"></a><b>8 Charts</b></font><br><br>
		      <font class="fsmall">JasperReports does not manage directly charts: they must be created independently as images, even using one of numerous  open-source java libraries availables to create charts. The produced image will be shown using an image element. The idea is really simple,  but the creation of a chart at run time requires a good knowledge of JasperReports programming, and many times it's needed to use write scriptlets capable of collecting data that willl be exposed by the chart.<br>
With version 0.4.0, iReport provides a solution to semplify chart building with a new chart tool. This tool permits to create a chart configuring main properties and data to feed it in a very simple manner for the final user.<br>
Creation of a chart is delagated to a well know open source library named JFreeCharts (version 0.9.21) developed by David Gilbert from Object Refinery Limited. iReport supportas for now only a little number of chart types exposed from JFreeCharts, and can be modified only few chart properties (in effect JFreeChart permits a really fine control on all chart properties), but it's possible, anyway, create clear chart with a big vision impact.<br>
		      </font><br><br>
		    
		     <font class="ftitparagrafo"><a name="8.1"></a><b>8.1 Creation of a simple chart</b></font><br><br>
		      <font class="fsmall">
		      In this paragraph we'll take confidence with <i>chart  tool</i>, building a report with a Pie3D chart step by step; subsequently we'll take a look on all details related to the chart handling.<br>
In the sample we'll use as Datasource the NorthWind database on HSQLDB.<br>
We start opening a blank document. Open the query window using this button: <img src="manual0.2.0/8_0.jpg">  and write in the SQL textfield this query:<br>
<br>
<code>select <b>SHIPCOUNTRY</b>, COUNT(*) AS <b>ORDERS_COUNT</b> from ORDERS group by SHIPCOUNTRY</code><br>
<br>
 <br>
 <table border=0><tr><td><a href="manual0.2.0/8_1big.jpg"><img border=0 src="manual0.2.0/8_1.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig. 8.1 The report query</b></font></td></tr></table> 
<br>
<br>
The idea is create a chart to illustrate sales in different states. <br>
Executed the quey, seleced fields will appeare on the list. Confirm the field registration pressing the OK button: all field retrived from the query will be registered to the report. We can position fields in the report detail dragging it, i.e. from the objects library (fig. 8.1).<br>
<br>
 <table border=0><tr><td><a href="manual0.2.0/8_2big.jpg"><img border=0 src="manual0.2.0/8_2.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig. 8.2 The report with field HIPCOUNTRY.</b></font></td></tr></table>
<br>
We have to set the height of no useful bands (all excluse summary and details) to zero.<br>
Select the chart tool and draw a rectangle in the summary band with mouse.<br>
<br>
 <table border=0><tr><td><a href="manual0.2.0/8_3big.jpg"><img border=0 src="manual0.2.0/8_3.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig. 8.3 We put the chart in the summary band.</b></font></td></tr></table>
<br>
iReport will alert about need to activate the internal scriptlet support to handle scriptlet: click YES. From the chart palette select i.e.the Pie3D chart type and press OK. We should  be now in the situation showed in figure 8.2.<br>
At this point we must configure the chart. Open element properties window (double click on element), go to chart tab and press "Edit chart properties".<br>
<br>
 <table border=0><tr><td><a href="manual0.2.0/8_4big.jpg"><img border=0 src="manual0.2.0/8_4.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig. 8.4  Chart Tab.</b></font></td></tr></table>
<br>
Will appears the chart properties window (the same from wich we are choose the chart type, fig.8.5 ).<br>
<br>
 <table border=0><tr><td><a href="manual0.2.0/8_5big.jpg"><img border=0 src="manual0.2.0/8_5.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig. 8.5 Chart type Tab</b></font></td></tr></table>
<br>

This window is organized with three tabs: e: Chart type, Data and Chart details. The first tab permits to choose the chart type to show: every chart need data structured in series; all series needed by the selected chart type are listed in the frame labeled "Chart Info" on tab bottom where is exposed the name of the chart type and the library used to generate it (for now all charts are produced using JFreeChart 0.9.21, but iReport can support other libraries).<br>
 <br>
In our case we'll need a serie to store labels (exposed in the Y axis), and a single serie of nambers (named Serie 1).<br>
Move us on Data tab. We'll find a table with two rows ready to get the name the two series that satisfy the chart needs (fig. 8.6).<br>
<br>
 <table border=0><tr><td><a href="manual0.2.0/8_6big.jpg"><img border=0 src="manual0.2.0/8_6.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig. 8.6 Tab Data.</b></font></td></tr></table>
<br>

They are different ways to create a serie. For now we'll use the simplest way: we'll leave iReport handle the serie for us. Select the "Report series" button to open the report series window (fig. 8.5).<br>
<br>
 <table border=0><tr><td><a href="manual0.2.0/8_7big.jpg"><img border=0 src="manual0.2.0/8_7.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig. 8.7 Report series.</b></font></td></tr></table>
<br>
Create a brand new serie pressing "New serie". The window in fig. 8.8 will appear. Give a name for the serie (i.e. COUNTRY) and set the "Reset When" to <none>. Now we have to write an expression for the value that we want collect to generate  the serie. In our case we'll have a serie of strings for SHIPCOUNTRY and a serie of integer numbers for Serie1.<br>
<br>
 <table border=0><tr><td><a href="manual0.2.0/8_8big.jpg"><img border=0 src="manual0.2.0/8_8.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig 8.8 Serie definition.</b></font></td></tr></table>
<br>
To use the expression editor, press the left mouse button over the text area and select the "Use texteditor" menu item.<br>
Add all the two series , go back to window of fig. 8.6 and select the two created series from the two comboboxes to assign on Labels the SERIE_COUNTRY and on Serie1 the SERIE_ORDERS_COUNT.<br>
Confirm chart properties modifications, save file and run the report using teh active datasource (button   on the toolbar). You can show the final result on fig 8.9.<br>
<br>
 <table border=0><tr><td><a href="manual0.2.0/8_9big.jpg"><img border=0 src="manual0.2.0/8_9.jpg"></a></td></tr><tr><td><font class="fsmall"><b>Fig 8.9 The final report with the chart.</b></font></td></tr></table>
<br>
<br>
On iReport Guide:<br>
<br>
<b>Series</b>: Automatic Series, Custom series<br>
<b>Chart Types</b>: Pie Chart, Pie3D Chart, Bar, Bar3D, Line, Area
<br><br>
   
			</TD>
		  </TR>
		 </TABLE>
		</TD>
		  </TR>
		 </TABLE></TD>
		  </TR>
		 </TABLE></td>
  </tr>
  <tr height="15"><td><table  width="100%" border="0" cellspacing="0" cellpadding="0">
	<tr> 
	  <td height="1" colspan="2" bgcolor="#000000"><img src="images/null.gif height="1" width="1"></td>
	</tr>
	 <tr> 
	  <td   height="14" bgcolor="#D4D0C8" valign="bottom" align="center"><font class="fsmall">(c) 2002 by Giulio Toffoli &lt;gt78 at businesslogic.it&gt;</font></td>
	</tr>
      </table></td>
  </tr>
</table></body>
</html>
